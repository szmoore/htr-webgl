<html>
	<head profile="http://www.w3.org/2005/10/profile">
	<link rel="shortcut icon" type="image/png" href="/favicon.png">
    <title>Humphrey The Rabbit</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="HandheldFriendly" content="true">
    <link rel="stylesheet" href="webgl.css" type="text/css">
	<!-- for remote debugging -->  <!--<script src="http://jsconsole.com/remote.js?[insert thing here]"></script>-->
    <script src="random.js"></script>
    <script src="utils.js"></script>
    <script src="graphics.js"></script>
    <script src="entity.js"></script>
    <script src="box.js"></script>
    <script src="enemy.js"></script>
    <script src="player.js"></script>
    <script src="game.js"></script>
    <script src="tutorial.js"></script>
    <script src="scene.js"></script>
    <script src="page.js"></script>
    <!-- Fragment shader program -->

    <script id="shader-fs" type="x-shader/x-fragment">
      varying highp vec2 vTextureCoord;

      uniform sampler2D uSampler;
	  uniform highp vec4 uColour;

      void main(void) {
        gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t)) * uColour;
      }
    </script>

    <!-- Vertex shader program -->

    <script id="shader-vs" type="x-shader/x-vertex">
	attribute vec2 aVertexPosition;
	attribute vec2 aTextureCoord;
	uniform vec2 uPosition;
	uniform vec2 uScale;
	uniform float uAspectRatio;
      //uniform mat4 uMVMatrix;
      //uniform mat4 uPMatrix;

      varying highp vec2 vTextureCoord;

      void main(void) {
        gl_Position = vec4(aVertexPosition.x*uScale.x + uPosition.x, aVertexPosition.y * uAspectRatio * uScale.y + uPosition.y, 0, 1);
        vTextureCoord = aTextureCoord;
      }
    </script>
  </head>

  <body id="body" onload="InitPage(); main(true);" onresize="InitPage();" style="-webkit-touch-callout: none !important; -webkit-user-select: none !important;">
	  <!-- Noscript page -->
    <noscript>
	    <h2>Humphrey The Rabbit</h2>
	    <p><img src="data/rabbit/drawing2.svg" width="20%" alt="humphrey the rabbit"/></p>
	    <p> Humphrey The Rabbit is a game in which Humphrey (controlled by the player) must avoid falling boxes, foxes, and various other hazards. Humphrey The Rabbit requires Javascript. You are seeing this either because you are a search engine bot (in which case please rank me higher) or you are viewing a search engine result, or you are actually at this page but you have disabled Javascript or your browser does not support it. Enable Javascript to play.</p>
	    <h2> This is what you are missing </h2>
	    <p>   <img src="data/screenshot-2014-07-16.png" width="40%" alt="screenshot of game"/> </p>
	</noscript>

	<!-- Introduction -->
	<audio id="theme">
		<!--<source src="data/theme.ogg" type="audio/ogg">-->
		<!--Your browser does not support the <code>audio</code> tag.-->
	</audio>

	<div id="container" style="width:100%; position:relative; overflow:hidden;">
		<div id="leftPanel" style="float:left; text-align: right; border:0px solid black; overflow:hidden; display:block;">
			<!-- Put links and things here -->
		</div>

		<div id="rightPanel" style="float:right; border:2px; text-align: left; solid red; overflow:hidden; display:block;">
			<!-- Put ads here -->
			<object id="banner" style="width:0px; height:0px;" type="text/html" data="data/adverts/external.html"></object>
		</div>

		<div id="middlePanel" style="margin:0 auto; border:2px solid blue;">
			<!-- The canvas -->
			<span id="loading" style="border:1px solid black;">Initialising page. If nothing happens try reloading (Ctrl+R).</span>
			<canvas id="glcanvas" width="0" height="0">
				The <code>canvas</code> tag isn't supported, <b>or</b> you have disabled scripts.
			</canvas>

			<div id="settings" hidden style="float:left; text-align: left;">
				<h1>Settings</h1>
				<details open=true>
					<form autocomplete="off">
					<summary><b>All Settings</b></summary>
					<details open=true>
						<summary>Browser</summary>
						<table>
							<tr><td><input type="checkbox" id="playMusic" checked></td><td>Play Music</td></tr>
							<tr><td><input type="checkbox" id="showAdverts" checked></td><td><span title="Show the memes.">Show Advertisements</span></td></tr>
							<tr><td><input type="checkbox" id="autoPause" checked></td><td><span title="Game pauses when tab loses focus.">Auto pause</span></td></tr>
						</table>
						<details open=false>
							<summary>Display</summary>
							<table>
								<tr><td><input type="checkbox" id="displayStatusBar" checked></td><td><span title="This will hide the status bar, including the ‚öô. You must use the tilde (`) key to open settings again.">Display Status Bar</span></td></tr>
								<tr><td><input type="checkbox" id="simplifiedRendering"></td><td><span title="This will attempt to improve performance by reducing the area on the screen that is redrawn. You may see some visual artifacts.">Faster Rendering</span></td></tr>
							</table>
						</details>

					</details>
					<details open=true>
						<summary>Gameplay Modes</summary>
						<details open=true>
							<summary>Base Difficulty</summary>
							<table>
								<tr><td><input type="radio" id="baby" name="difficulty"></td><td><span title="Literally nothing can hurt you, but you can only play Level 1.">Baby Mode</span></td></tr>
								<tr><td><input type="radio" id="normal" name="difficulty" checked></td><td><span title="The default difficulty. You may gain lives and preserve them between levels.">Normal Mode</span></td></tr>
								<tr><td><input type="radio" id="hard" name="difficulty"></td><td><span title="Harder difficulty; lives will never spawn.">Hard Mode</span></td></tr>
								<tr><td><input type="radio" id="expert" name="difficulty"></td><td><span title="The classic difficulty; dying takes you to Level 1">Expert Mode</span></td></tr>
								<tr><td><input type="radio" id="rage" name="difficulty"></td><td><span title="Hardest difficulty imaginable">Rage Mode</span></td></tr>
							</table>
						</details>
						<details open=false>
							<summary>Gameplay Modifiers</summary>
							<table>
								<tr><td><input type="checkbox" id="pacifistMode"></td><td><span title="Does what it says.">Enforce Moral Absolutism</span></td></tr>

							</table>
						</details>

						<!--details open=false>
							<summary>Legacy Modes</summary>
							<table>
								<tr><td><a href="nostalgia/">"The game is basically finished"</a></td></tr>
							</table>
						</details-->

					</details>
					</form>
					<button onclick="g_game.ApplySettings();">‚úî Apply</button>
					<button onclick="g_game.PopulateSettings();">üö´ Revert</button>
					<button onclick="g_game.DefaultSettings();">üîÑ Defaults</button>
				</details->
				<button onclick="g_game.ToggleSettings();">‚ñ∂Ô∏è Done</button>

			</div>

		</div>

	</div>
	<div id="statusBar" style="font-size: x-small; position:relative; width:auto; height:auto; border:0px solid red; margin:0 auto;">
		<div id="score" style="margin:0 auto; width:100%; text-align:center;">
			Lvl <span id="level">0</span> |
			<span id="runtime">00:00:00</span>|<img src="data/hats/hat1.gif"> x <span id="lives">0</span> |
			<a href="javascript:g_game.Start(0)">?</a> |
			<a href="javascript:g_game.ToggleSettings()">‚öô</a>

		</div>
		<div id="debug" style="margin:0 auto; width:34%; text-align:center;"></div>
	</div>



	<!--<div id="spacer" style="position:relative; width:auto; height:50px; margin:0 auto; display: block;"></div>-->

	<!-- For touch screen devices that don't support touch events -->

	<div id="touchBar" style="margin:0 auto; border:0px solid black; text-align:center;display: none; background-color: #eeffee">
		<table align="center">
			<tr>
			<td>
				<button
					 style="border:none;"><img id="touchLeft" src="data/rabbit/left1.gif" style="height:48px"> </button> </td>
			<td>
				<button style="height:48px; border:none;"><img id="touchUp" src="data/rabbit/up.gif" style="height:48px"></button> </td>
			<td>
				<button style="border:none;"><img id="touchDown" src="data/rabbit/down.gif" style="height:48px"></button></td>
			<td>
				<button style="border:none;"><img id="touchRight" src="data/rabbit/right1.gif" style="height:48px"></button></td></tr>
		</table>
	</div>


	</body>
</html>
